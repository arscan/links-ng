"use strict";angular.module("linksAngularApp",["ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("linksAngularApp").controller("GlobalCtrl",["$scope","Link",function(a,b){a.links=b.query(function(){a.shuffledLinks=shuffleArray(a.links.slice(0))})}]),angular.module("linksAngularApp").controller("MainCtrl",["$scope","Link",function(a,b){a.linkInputKeystroke=function(){},a.link=new b,a.save=function(){a.link.url=a.omnibox,a.link.$save(),console.log(a.link.tags),a.links.push(a.link),a.link=new b}}]);var shuffleArray=function(a){for(var b,c,d=a.length;d;)c=Math.floor(Math.random()*d--),b=a[d],a[d]=a[c],a[c]=b;return a};angular.module("linksAngularApp").factory("Link",["$resource",function(a){return a("http://links.robscanlon.com/userlinks",{},{query:{action:"GET",url:"http://links.robscanlon.com/userlinks.json",isArray:!0}})}]),angular.module("linksAngularApp").filter("domain",function(){return function(a){var b,c="",d=/\w+:\/\/([\w|\.]+)/;return b=d.exec(a),null!==b&&(c=b[1]),c}}),angular.module("linksAngularApp").filter("startsWithHttp",function(){return function(a){return a&&0===a.indexOf("http://")}});var app=angular.module("linksAngularApp");app.directive("backgroundFill",function(){return{scope:{links:"="},link:function(a){a.$watch("links",function(b){a.links&&b.forEach(function(a){a.opacity=.5*Math.random()+.3})})},template:'<span ng-repeat="link in links" style="opacity: {{link.opacity}}">{{ link.name }}</span>'}});